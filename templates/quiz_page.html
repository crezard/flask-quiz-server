
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°œì¸í™” í€´ì¦ˆ: í˜„ì¬ì™„ë£Œ 10ì œ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            background-color: #f4f7f6;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        .quiz-container {
            max-width: 800px;
            margin: auto;
            padding-bottom: 80px; 
        }
        /* Intro/History Styles */
        #intro-screen, #history-display {
            padding: 30px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        input[type="text"] {
            padding: 10px;
            width: 80%;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .start-btn, .history-btn {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .history-btn {
            background-color: #2ecc71;
            margin-left: 10px;
        }
        .start-btn:hover { background-color: #2980b9; }
        .history-btn:hover { background-color: #27ae60; }

        /* Quiz Styles */
        .question-box {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .question-number {
            font-weight: bold;
            color: #3498db;
            margin-bottom: 5px;
            display: block;
        }
        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 600;
        }
        .options-list {
            list-style: none;
            padding: 0;
            margin: 0 0 10px 0;
        }
        .options-list li {
            padding: 10px 12px;
            border: 1px solid #ddd;
            margin-bottom: 8px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.1s;
        }
        .options-list li:hover:not(.disabled) {
            background-color: #f0f0f0;
        }
        /* í”¼ë“œë°± ìŠ¤íƒ€ì¼ */
        .options-list li.correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
            pointer-events: none;
        }
        .options-list li.incorrect {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
            pointer-events: none;
        }
        .options-list li.disabled {
            pointer-events: none;
            cursor: default;
        }
        /* í•´ì„¤ ë°•ìŠ¤ */
        .feedback-message {
            margin-top: 15px;
            padding: 10px;
            border-top: 2px dashed #ccc;
            font-size: 0.9em;
            color: #555;
            background-color: #f9f9f9;
            border-radius: 0 0 8px 8px;
            display: none;
        }
        .feedback-message.show {
            display: block;
        }
        .feedback-message strong.correct-answer {
            color: #28a745;
        }
        /* Score Box */
        .score-box {
            position: fixed; 
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #2c3e50;
            color: white;
            padding: 15px 20px;
            text-align: center;
            border-top: 5px solid #3498db;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            box-sizing: border-box;
        }
        #history-list {
            list-style: none;
            padding: 0;
        }
        #history-list li {
            border-bottom: 1px dashed #ccc;
            padding: 10px 0;
        }
        #history-list li:last-child { border-bottom: none; }
    </style>
</head>
<body>
    <div class="quiz-container">
        
        <div id="intro-screen">
            <h2>â­ í€´ì¦ˆ ì‹œì‘</h2>
            <p><strong>í™˜ì˜í•©ë‹ˆë‹¤!</strong> ì¤‘í•™êµ 3í•™ë…„ í˜„ì¬ì™„ë£Œ í€´ì¦ˆë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
            <input type="text" id="user-name-input" placeholder="ì—¬ê¸°ì— ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
            <button class="start-btn" onclick="startQuiz()">í€´ì¦ˆ ì‹œì‘</button>
            <button class="history-btn" onclick="toggleHistory()">ì´ì „ ê¸°ë¡ ë³´ê¸°</button>
        </div>
        
        <div id="history-display" style="display:none;">
            <h2>ğŸ“Š ë‚˜ì˜ ë¬¸ì œí’€ì´ ê¸°ë¡</h2>
            <p id="history-status">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            <ul id="history-list"></ul>
            <button class="start-btn" onclick="toggleHistory()">í€´ì¦ˆë¡œ ëŒì•„ê°€ê¸°</button>
        </div>

        <div id="quiz-screen" style="display:none;">
            <h1 id="quiz-title">âœ… <span id="welcome-name"></span>ë‹˜ì˜ í˜„ì¬ì™„ë£Œ í€´ì¦ˆ 10ì œ</h1>
            <p>ë‹¤ìŒ ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ì™„ë£Œ í˜•íƒœ ë˜ëŠ” ê´€ë ¨ í‘œí˜„ì„ ê³¨ë¼ë³´ì„¸ìš”. (ì´ 10ë¬¸ì œ)</p>
        
            <div class="question-box">
                <span class="question-number">1ë²ˆ</span>
                <p class="question-text">ë‹¤ìŒ ë¬¸ì¥ì˜ ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ì™„ë£Œí˜•ì€? (He ___ (live) in Seoul for ten years.)</p>
                <ul id="q1_options" class="options-list">
                    <li onclick="checkAnswer(1, this, false)">have lived</li>
                    <li onclick="checkAnswer(1, this, true)">has lived</li>
                    <li onclick="checkAnswer(1, this, false)">is living</li>
                    <li onclick="checkAnswer(1, this, false)">lives</li>
                </ul>
                <div id="q1_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> ì£¼ì–´ 'He'ì— ë§ëŠ” 'has'ì™€ ë™ì‚¬ì˜ ê³¼ê±°ë¶„ì‚¬ 'lived'ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ê¹Œì§€ì˜ ê³„ì†ëœ í–‰ìœ„ë¥¼ ì •í™•íˆ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: has lived</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> ì£¼ì–´ 'He'ì— ë§ì¶° 'have'ë¥¼ ë³€í˜•í•˜ê³ , ë™ì‚¬ 'live'ì˜ ê³¼ê±°ë¶„ì‚¬ í˜•íƒœë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.</p>
                </div>
            </div>
            
            <div class="question-box">
                <span class="question-number">2ë²ˆ</span>
                <p class="question-text">ë‹¤ìŒ ë¬¸ì¥ì˜ ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ì™„ë£Œí˜•ì€? (I ___ (eat) dinner already.)</p>
                <ul id="q2_options" class="options-list">
                    <li onclick="checkAnswer(2, this, false)">have ate</li>
                    <li onclick="checkAnswer(2, this, false)">has eaten</li>
                    <li onclick="checkAnswer(2, this, true)">have eaten</li>
                    <li onclick="checkAnswer(2, this, false)">eat</li>
                </ul>
                <div id="q2_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> ì£¼ì–´ 'I'ì— ë§ëŠ” 'have'ì™€ ë™ì‚¬ 'eat'ì˜ ê³¼ê±°ë¶„ì‚¬ 'eaten'ì„ ì‚¬ìš©í•˜ì—¬ 'ì´ë¯¸ ì €ë…ì„ ë¨¹ì—ˆë‹¤'ëŠ” ì™„ë£Œì˜ ì˜ë¯¸ë¥¼ ì •í™•íˆ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: have eaten</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> 'I'ì— ë§ëŠ” have ë™ì‚¬ë¥¼ ì„ íƒí•˜ê³ , 'eat'ì˜ ë¶ˆê·œì¹™ ê³¼ê±°ë¶„ì‚¬ í˜•íƒœë¥¼ ë– ì˜¬ë ¤ ë³´ì„¸ìš”.</p>
                </div>
            </div>
            
            <div class="question-box">
                <span class="question-number">3ë²ˆ</span>
                <p class="question-text">ë‹¤ìŒ ë¬¸ì¥ì˜ ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ì™„ë£Œí˜•ì€? (She ___ (be/never) to Canada.)</p>
                <ul id="q3_options" class="options-list">
                    <li onclick="checkAnswer(3, this, false)">has been never</li>
                    <li onclick="checkAnswer(3, this, false)">have never been</li>
                    <li onclick="checkAnswer(3, this, true)">has never been</li>
                    <li onclick="checkAnswer(3, this, false)">never went</li>
                </ul>
                <div id="q3_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> ì£¼ì–´ 'She'ì— ë§ëŠ” 'has'ì™€ 'never'ê°€ ê²°í•©í•˜ì—¬ 'í•œ ë²ˆë„ ê°€ë³¸ ì ì´ ì—†ë‹¤'ëŠ” ë¶€ì • ê²½í—˜ì„ ì •í™•íˆ í‘œí˜„í•©ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: has never been</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> ì£¼ì–´ì— ë§ëŠ” 'have' í˜•íƒœë¥¼ ì‚¬ìš©í•˜ê³ , ë¶€ì‚¬ 'never'ì˜ ìœ„ì¹˜ì™€ 'be' ë™ì‚¬ì˜ ê³¼ê±°ë¶„ì‚¬ í˜•íƒœë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                </div>
            </div>
            
            <div class="question-box">
                <span class="question-number">4ë²ˆ</span>
                <p class="question-text">ë¹ˆì¹¸ì— ì•Œë§ì€ ë‹¨ì–´ëŠ”? (We have studied English ___ 2018.)</p>
                <ul id="q4_options" class="options-list">
                    <li onclick="checkAnswer(4, this, false)">for</li>
                    <li onclick="checkAnswer(4, this, false)">ago</li>
                    <li onclick="checkAnswer(4, this, true)">since</li>
                    <li onclick="checkAnswer(4, this, false)">at</li>
                </ul>
                <div id="q4_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> 'since'ëŠ” íŠ¹ì • ì‹œì (2018ë…„)ë¶€í„° í˜„ì¬ê¹Œì§€ ê³„ì†ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ë¯€ë¡œ í˜„ì¬ì™„ë£Œì˜ ê³„ì† ìš©ë²•ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ê¸° ì ì ˆí•©ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: since</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> í˜„ì¬ì™„ë£Œì˜ ê³„ì† ìš©ë²•ì—ì„œ 'íŠ¹ì • ì‹œì ë¶€í„°'ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì „ì¹˜ì‚¬ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?</p>
                </div>
            </div>
            
            <div class="question-box">
                <span class="question-number">5ë²ˆ</span>
                <p class="question-text">ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ì™„ë£Œí˜•ì€? (My brother ___ (go) to America. (He is not here now.))</p>
                <ul id="q5_options" class="options-list">
                    <li onclick="checkAnswer(5, this, false)">has went</li>
                    <li onclick="checkAnswer(5, this, false)">has been</li>
                    <li onclick="checkAnswer(5, this, true)">has gone</li>
                    <li onclick="checkAnswer(5, this, false)">went</li>
                </ul>
                <div id="q5_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> 'go'ì˜ í˜„ì¬ì™„ë£Œí˜• 'has gone'ì€ 'ì–´ë””ë¡œ ê°€ë²„ë ¤ì„œ ì§€ê¸ˆ ì—¬ê¸°ì— ì—†ë‹¤'ëŠ” ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìš©ë²•ìœ¼ë¡œ ì ì ˆí•©ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: has gone</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> 'ê°€ë²„ë ¤ì„œ ì§€ê¸ˆ ì—¬ê¸°ì— ì—†ë‹¤'ëŠ” ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 'go'ì˜ í˜„ì¬ì™„ë£Œ í˜•íƒœë¥¼ ë– ì˜¬ë ¤ ë³´ì„¸ìš”. ('ê°€ë³¸ ì ì´ ìˆë‹¤'ì™€ êµ¬ë³„)</p>
                </div>
            </div>

            <div class="question-box">
                <span class="question-number">6ë²ˆ</span>
                <p class="question-text">ë¹ˆì¹¸ì— ì•Œë§ì€ ë¶€ì‚¬ëŠ”? (They have ___ finished the project.)</p>
                <ul id="q6_options" class="options-list">
                    <li onclick="checkAnswer(6, this, false)">always</li>
                    <li onclick="checkAnswer(6, this, true)">just</li>
                    <li onclick="checkAnswer(6, this, false)">last week</li>
                    <li onclick="checkAnswer(6, this, false)">never</li>
                </ul>
                <div id="q6_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> 'just'ëŠ” 'ë§‰, ë°©ê¸ˆ'ì´ë¼ëŠ” ì˜ë¯¸ë¡œ, í˜„ì¬ì™„ë£Œì˜ ì™„ë£Œ ìš©ë²•ì—ì„œ ë™ì‘ì´ ë°©ê¸ˆ ëë‚¬ìŒì„ ë‚˜íƒ€ë‚´ê¸°ì— ê°€ì¥ ì ì ˆí•©ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: just</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> ë™ì‘ì´ 'ë°©ê¸ˆ' ì™„ë£Œë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” í˜„ì¬ì™„ë£Œ ì™„ë£Œ ìš©ë²•ì˜ í•µì‹¬ ë¶€ì‚¬ë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>
                </div>
            </div>
            
            <div class="question-box">
                <span class="question-number">7ë²ˆ</span>
                <p class="question-text">ë¹ˆì¹¸ì— ì•Œë§ì€ ë™ì‚¬ í˜•íƒœëŠ”? (Have you ever ___ (see) a ghost?)</p>
                <ul id="q7_options" class="options-list">
                    <li onclick="checkAnswer(7, this, false)">saw</li>
                    <li onclick="checkAnswer(7, this, false)">see</li>
                    <li onclick="checkAnswer(7, this, true)">seen</li>
                    <li onclick="checkAnswer(7, this, false)">seeing</li>
                </ul>
                <div id="q7_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> ë™ì‚¬ 'see'ì˜ ê³¼ê±°ë¶„ì‚¬ í˜•íƒœì¸ 'seen'ì„ ì‚¬ìš©í•˜ì—¬ 'ê·€ì‹ ì„ ë³¸ ê²½í—˜ì´ ìˆë‹ˆ?'ë¼ëŠ” í˜„ì¬ì™„ë£Œ ê²½í—˜ ìš©ë²•ì„ ì™„ì„±í•©ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: seen</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> í˜„ì¬ì™„ë£Œ ì‹œì œëŠ” 'have/has' ë’¤ì— ë™ì‚¬ì˜ ì–´ë–¤ í˜•íƒœë¥¼ ì¨ì•¼ í•˜ëŠ”ì§€ ê¸°ì–µí•˜ì„¸ìš”.</p>
                </div>
            </div>
            
            <div class="question-box">
                <span class="question-number">8ë²ˆ</span>
                <p class="question-text">ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ì™„ë£Œ í˜•íƒœëŠ”? (How long ___ you ___ (know) him?)</p>
                <ul id="q8_options" class="options-list">
                    <li onclick="checkAnswer(8, this, false)">did / know</li>
                    <li onclick="checkAnswer(8, this, false)">do / know</li>
                    <li onclick="checkAnswer(8, this, false)">have / knew</li>
                    <li onclick="checkAnswer(8, this, true)">have / known</li>
                </ul>
                <div id="q8_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> 'How long'ì€ í˜„ì¬ì™„ë£Œ ê³„ì† ìš©ë²•ì˜ ì˜ë¬¸ë¬¸ìœ¼ë¡œ ìì£¼ ì‚¬ìš©ë˜ë©°, 'have'ì™€ 'know'ì˜ ê³¼ê±°ë¶„ì‚¬ 'known'ìœ¼ë¡œ ì •í™•í•œ í˜•íƒœë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: have / known</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> 'How long'ì´ ë“¤ì–´ê°€ëŠ” ì˜ë¬¸ë¬¸ì€ ëŒ€ë¶€ë¶„ í˜„ì¬ì™„ë£Œ ì‹œì œì´ë©°, 'know'ì˜ ë¶ˆê·œì¹™ ê³¼ê±°ë¶„ì‚¬ í˜•íƒœë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
            
            <div class="question-box">
                <span class="question-number">9ë²ˆ</span>
                <p class="question-text">ë‹¤ìŒ ë¬¸ì¥ì˜ ë¹ˆì¹¸ì— ì•Œë§ì€ í˜„ì¬ì™„ë£Œí˜•ì€? (They ___ (lose) their keys.)</p>
                <ul id="q9_options" class="options-list">
                    <li onclick="checkAnswer(9, this, false)">have lose</li>
                    <li onclick="checkAnswer(9, this, false)">has lost</li>
                    <li onclick="checkAnswer(9, this, false)">lost</li>
                    <li onclick="checkAnswer(9, this, true)">have lost</li>
                </ul>
                <div id="q9_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> ì£¼ì–´ 'They'ì— ë§ëŠ” 'have'ì™€ 'lose'ì˜ ê³¼ê±°ë¶„ì‚¬ 'lost'ë¥¼ ì‚¬ìš©í•˜ì—¬ 'ì—´ì‡ ë¥¼ ìƒì–´ë²„ë ¤ì„œ ì§€ê¸ˆë„ ì—†ë‹¤'ëŠ” ê²°ê³¼ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: have lost</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> 'They'ì— ë§ëŠ” have ë™ì‚¬ë¥¼ ì„ íƒí•˜ê³ , 'lose'ì˜ ê³¼ê±°ë¶„ì‚¬ í˜•íƒœë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. (ì§€ê¸ˆë„ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” 'ê²°ê³¼' ìš©ë²•ì…ë‹ˆë‹¤.)</p>
                </div>
            </div>
            
            <div class="question-box">
                <span class="question-number">10ë²ˆ</span>
                <p class="question-text">ë¹ˆì¹¸ì— ì•Œë§ì€ ë‹¨ì–´ëŠ”? (I haven't watched the movie ___.)</p>
                <ul id="q10_options" class="options-list">
                    <li onclick="checkAnswer(10, this, false)">already</li>
                    <li onclick="checkAnswer(10, this, false)">just</li>
                    <li onclick="checkAnswer(10, this, false)">before</li>
                    <li onclick="checkAnswer(10, this, true)">yet</li>
                </ul>
                <div id="q10_feedback" class="feedback-message">
                    <p><strong>ì„¤ëª…:</strong> 'yet'ì€ 'ì•„ì§'ì´ë¼ëŠ” ëœ»ìœ¼ë¡œ, í˜„ì¬ì™„ë£Œì˜ ë¶€ì •ë¬¸ì—ì„œ ì™„ë£Œ ìš©ë²•ì„ ë‚˜íƒ€ë‚´ê¸°ì— ì ì ˆí•˜ë©° ë¬¸ì¥ ëì— ìœ„ì¹˜í•©ë‹ˆë‹¤. (<strong class="correct-answer">ì •ë‹µ: yet</strong>)</p>
                    <p><strong>íŒíŠ¸:</strong> í˜„ì¬ì™„ë£Œ ë¶€ì •ë¬¸ì—ì„œ 'ì•„ì§ ~í•˜ì§€ ì•Šì•˜ë‹¤'ëŠ” ì˜ë¯¸ë¡œ ë¬¸ì¥ ëì— ì˜¤ëŠ” ë¶€ì‚¬ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?</p>
                </div>
            </div>
        </div>
        
    </div>

    <div class="score-box">
        <h2 id="score-display"></h2>
    </div>

    <script>
        let correctCount = 0;
        const totalQuestions = 10;
        const answeredQuestions = new Set();
        let userName = '';
        const HISTORY_KEY = 'quizHistory_PresentPerfect';

        document.addEventListener('DOMContentLoaded', () => {
            // ì´ˆê¸° ì ìˆ˜íŒ ìƒíƒœ ì„¤ì •
            document.getElementById('score-display').innerHTML = `ì´ ë¬¸ì œ: ${totalQuestions}ê°œ`;
        });
        
        // ----------------------- í€´ì¦ˆ ì‹œì‘ ë° í™”ë©´ ì „í™˜ -----------------------
        function startQuiz() {
            userName = document.getElementById('user-name-input').value.trim();
            if (userName.length === 0) {
                alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            document.getElementById('welcome-name').innerText = userName;
            document.getElementById('intro-screen').style.display = 'none';
            document.getElementById('history-display').style.display = 'none';
            document.getElementById('quiz-screen').style.display = 'block';

            // í€´ì¦ˆ ì‹œì‘ ì‹œ ìƒíƒœ ì´ˆê¸°í™”
            correctCount = 0;
            answeredQuestions.clear();
            updateScoreDisplay();
        }

        function toggleHistory() {
            const introScreen = document.getElementById('intro-screen');
            const historyScreen = document.getElementById('history-display');
            const quizScreen = document.getElementById('quiz-screen');
            
            if (historyScreen.style.display === 'none') {
                introScreen.style.display = 'none';
                quizScreen.style.display = 'none';
                historyScreen.style.display = 'block';
                loadHistory();
            } else {
                historyScreen.style.display = 'none';
                introScreen.style.display = 'block';
            }
        }

        // ----------------------- ì ìˆ˜ ê³„ì‚° ë° í‘œì‹œ -----------------------
        function updateScoreDisplay() {
            const totalAttempted = answeredQuestions.size;
            let percentage = 0.0;
            
            if (totalAttempted > 0) {
                percentage = ((correctCount / totalAttempted) * 100).toFixed(1);
            }
            
            const scoreElement = document.getElementById('score-display');
            
            let scoreMessage = `í˜„ì¬ ì •ë‹µë¥ : ${correctCount} / ${totalQuestions} ë¬¸í•­ ì¤‘ ${totalAttempted} ë¬¸í•­ ì‹œë„ (${percentage}%)`;
            
            if (totalAttempted === totalQuestions) {
                scoreMessage += `<br>ğŸ‰ **ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!** ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`;
                saveHistory(correctCount, percentage); // ì™„ë£Œ ì‹œ ê¸°ë¡ ì €ì¥
            }
            
            scoreElement.innerHTML = scoreMessage;
        }

        // ----------------------- íˆìŠ¤í† ë¦¬ ì €ì¥ ë° ë¡œë“œ -----------------------
        function saveHistory(score, accuracy) {
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ê¸°ì¡´ ê¸°ë¡ ë¶ˆëŸ¬ì˜¤ê¸° (ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´)
            const history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');
            const now = new Date();
            
            const newRecord = {
                user: userName,
                date: now.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric' }),
                time: now.toLocaleTimeString('ko-KR'),
                score: score,
                accuracy: accuracy
            };

            history.unshift(newRecord); // ê°€ì¥ ìµœê·¼ ê¸°ë¡ì„ ë§¨ ì•ì— ì¶”ê°€
            localStorage.setItem(HISTORY_KEY, JSON.stringify(history));
        }

        function loadHistory() {
            const history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');
            const historyList = document.getElementById('history-list');
            const historyStatus = document.getElementById('history-status');
            
            historyList.innerHTML = '';
            
            if (history.length === 0) {
                historyStatus.innerHTML = 'ì•„ì§ ê¸°ë¡ëœ ë¬¸ì œí’€ì´ ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.';
                return;
            }

            historyStatus.innerHTML = `ì´ ${history.length}ê±´ì˜ ê¸°ë¡ì´ ìˆìŠµë‹ˆë‹¤.`;

            history.forEach((record, index) => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `
                    <strong>${index + 1}. ${record.date} (${record.time})</strong><br>
                    ${record.user}ë‹˜: ${record.score} / ${totalQuestions} (${record.accuracy}%)
                `;
                historyList.appendChild(listItem);
            });
        }

        // ----------------------- í€´ì¦ˆ ì²´í¬ ë¡œì§ -----------------------
        function checkAnswer(qNum, selectedElement, isCorrect) {
            const optionsList = document.getElementById(`q${qNum}_options`);
            const feedbackBox = document.getElementById(`q${qNum}_feedback`);
            
            if (answeredQuestions.has(qNum)) return; // ì´ë¯¸ ë‹µë³€í•œ ë¬¸ì œë¼ë©´ ì‹¤í–‰ ì¢…ë£Œ

            // 1. ì ìˆ˜ ê³„ì‚° ë° ê¸°ë¡
            if (isCorrect) {
                correctCount++;
            }
            answeredQuestions.add(qNum);
            updateScoreDisplay(); // ì ìˆ˜ ì—…ë°ì´íŠ¸

            // 2. ëª¨ë“  ì˜µì…˜ì„ ë¹„í™œì„±í™” (ë” ì´ìƒ ì„ íƒ ëª»í•˜ê²Œ í•¨)
            const allOptions = optionsList.getElementsByTagName('li');
            for (let i = 0; i < allOptions.length; i++) {
                allOptions[i].classList.add('disabled');
            }

            // 3. ì„ íƒí•œ ì˜µì…˜ í”¼ë“œë°± ë° ìŠ¤íƒ€ì¼ ë³€ê²½
            if (isCorrect) {
                selectedElement.classList.remove('disabled');
                selectedElement.classList.add('correct');
            } else {
                selectedElement.classList.add('incorrect');
                
                // í‹€ë ¸ë‹¤ë©´ ì •ë‹µì„ ì°¾ì•„ì„œ ì´ˆë¡ìƒ‰ìœ¼ë¡œ í‘œì‹œ
                for (let i = 0; i < allOptions.length; i++) {
                    if (allOptions[i].getAttribute('onclick').includes(', true)')) {
                        allOptions[i].classList.add('correct');
                        allOptions[i].classList.remove('disabled');
                        break;
                    }
                }
            }
            
            // 4. í•´ì„¤ ë°•ìŠ¤ í‘œì‹œ
            feedbackBox.classList.add('show');
        }
    </script>
</body>
</html>